# StreamFix ğŸ¬
___

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

StreamFixëŠ” í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜(Hexagonal Architecture) íŒ¨í„´ì„ ì ìš©í•˜ì—¬ ì„¤ê³„ëœ ìŠ¤íŠ¸ë¦¬ë° ì„œë¹„ìŠ¤ í”Œë«í¼ì…ë‹ˆë‹¤. ëª¨ë“ˆí™”ëœ êµ¬ì¡°ë¡œ ê°œë°œë˜ì–´ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ ê³ ë ¤í–ˆìŠµë‹ˆë‹¤.

## ğŸŒŸ ìµœê·¼ ì£¼ìš” ì—…ë°ì´íŠ¸ (Project Stabilization)

ìµœê·¼ í”„ë¡œì íŠ¸ ì•ˆì •í™” ë‹¨ê³„(Phase 1)ë¥¼ í†µí•´ JDK ë²„ì „ì„ 21ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê³ , ì£¼ìš” ì˜ì¡´ì„±ì„ ìµœì‹  ì•ˆì • ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ì—¬ ë³´ì•ˆì„±ê³¼ ì„±ëŠ¥ì„ ê°•í™”í–ˆìŠµë‹ˆë‹¤.

- **JDK 21 ë§ˆì´ê·¸ë ˆì´ì…˜**: í”„ë¡œì íŠ¸ì˜ ê¸°ë°˜ ìë°” ë²„ì „ì„ 17ì—ì„œ **21**ë¡œ ì—…ê·¸ë ˆì´ë“œí–ˆìŠµë‹ˆë‹¤.
- **ì£¼ìš” ì˜ì¡´ì„± ì—…ë°ì´íŠ¸**:
    - Spring Boot: `3.3.3` â†’ `3.5.0`
    - Kotlin: `2.0.20` â†’ `2.1.21`
    - QueryDSL: `5.0.0` â†’ `5.1.0`
    - Fixture Monkey: `0.4.12` â†’ `1.1.11`
    - Asciidoctor Plugin: `3.3.2` â†’ `4.0.4`
    - ê¸°íƒ€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° í”ŒëŸ¬ê·¸ì¸ ë²„ì „ì„ ìµœì‹  ì•ˆì • ë²„ì „ìœ¼ë¡œ ë™ê¸°í™”í–ˆìŠµë‹ˆë‹¤.
- **ì˜ì¡´ì„± êµ¬ì¡° ë¦¬íŒ©í† ë§**:
    - **Spring Boot BOM í™œìš©**: BOM(Bill of Materials)ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì˜ì¡´ì„±(Jackson, JUnit ë“±)ì˜ ëª…ì‹œì  ë²„ì „ ì„ ì–¸ì„ ì œê±°í•˜ì—¬ ì¤‘ë³µì„ ì—†ì• ê³  ê´€ë¦¬ íš¨ìœ¨ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
    - **ëª¨ë“ˆë³„ ìµœì í™”**: `app-batch`, `adapter-redis` ë“± ê° ëª¨ë“ˆì—ì„œ ë¶ˆí•„ìš”í•œ `spring-boot-starter-web` ê°™ì€ ì˜ì¡´ì„±ì„ ì œê±°í•˜ì—¬ JAR íŒŒì¼ í¬ê¸°ë¥¼ ì¤„ì´ê³  ë¹Œë“œ ì‹œê°„ì„ ë‹¨ì¶•í–ˆìŠµë‹ˆë‹¤.
- **ì½”ë“œ ìŠ¤íƒ€ì¼ ì¼ê´€ì„± í™•ë³´**: `Spotless` í”ŒëŸ¬ê·¸ì¸ì„ ë„ì…í•˜ì—¬ `google-java-format` ê¸°ë°˜ìœ¼ë¡œ ì „ì²´ ì½”ë“œ ìŠ¤íƒ€ì¼ì„ í†µì¼í–ˆìŠµë‹ˆë‹¤.
- **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì •ë¹„**: ì˜ì¡´ì„± ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìœ„í•´ ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì „ì²´ ì‚­ì œí–ˆìœ¼ë©°, ìƒˆë¡œìš´ í‘œì¤€ì— ë§ëŠ” í…ŒìŠ¤íŠ¸ ì „ëµ ìˆ˜ë¦½ì´ í•„ìš”í•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ (Ports & Adapters)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Applications                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚    app-api      â”‚              â”‚   app-batch     â”‚       â”‚
â”‚  â”‚   (REST API)    â”‚              â”‚    (batch)      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Core                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ core-domain â”‚  â”‚core-usecase â”‚  â”‚core-service â”‚          â”‚
â”‚  â”‚   (domain)  â”‚  â”‚  (usecase)  â”‚  â”‚  (service)  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚              â”‚ core-port   â”‚                                â”‚
â”‚              â”‚  (port)     â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Adapters                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  adapter-http   â”‚  â”‚adapter-persistenâ”‚  â”‚adapter-redisâ”‚  â”‚
â”‚  â”‚ (api sync )     â”‚  â”‚   (database)    â”‚  â”‚   (cache)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ ëª¨ë“ˆ êµ¬ì¡°

### Applications
- **app-api**: REST API ì• í”Œë¦¬ì¼€ì´ì…˜ (Spring Boot Web)
- **app-batch**: ë°°ì¹˜ ì²˜ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜

### Core (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
- **core-domain**: ë„ë©”ì¸ ëª¨ë¸
- **core-usecase**: ìœ ìŠ¤ì¼€ì´ìŠ¤ ì¸í„°í˜ì´ìŠ¤
- **core-service**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„
- **core-port**: í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ (ì™¸ë¶€ ì—°ë™ ì •ì˜)

### Adapters (ì™¸ë¶€ ì—°ë™)
- **adapter-http**: ì™¸ë¶€ API ì—°ë™ (TMDB API)
- **adapter-persistence**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ (MySQL, JPA)
- **adapter-redis**: ìºì‹œ ì—°ë™ (Redis)

### Frontend
- **stream-fix-frontend**: React ê¸°ë°˜ í”„ë¡ íŠ¸ì—”ë“œ

### Commons
- **stream-fix-commons**: ê³µí†µ ëª¨ë“ˆ

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Java 21**
- **Spring Boot 3.5.0**
- **Spring Data JPA**
- **QueryDSL 5.1.0**
- **MySQL 8.0**
- **Redis**
- **Flyway** (DB ë§ˆì´ê·¸ë ˆì´ì…˜)
- **Spotless** (ì½”ë“œ í¬ë§·í„°)

### Frontend
- **React 19.1.0**
- **Create React App**

### Build Tools
- **Gradle 8.13**
- **Kotlin DSL**

### External APIs
- **TMDB (The Movie Database) API**

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- **Java 21** ì´ìƒ
- Node.js 16 ì´ìƒ
- Docker & Docker Compose

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/shokoku/stream-fix
cd stream-fix
```

### 2. ì¸í”„ë¼ ì„¤ì •
```bash
# Dockerë¡œ MySQL, Redis ì‹¤í–‰
cd infra
docker-compose up -d
```

### 3. API ì„¤ì • íŒŒì¼ ìƒì„±
```bash
# env í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.sample .env
# .env íŒŒì¼ì„ ì—´ì–´ì„œ ì‹¤ì œ ê°’ë“¤ì„ ì…ë ¥í•˜ì„¸ìš”

# TMDB API ì„¤ì •
cp stream-fix-adapters/adapter-http/src/main/resources/adapter-http-property-sample.yml \
   stream-fix-adapters/adapter-http/src/main/resources/adapter-http-property.yml
```

`adapter-http-property.yml` íŒŒì¼ì— TMDB API í‚¤ ì„¤ì •:

```yaml
tmdb:
  auth:
    access-token: your-tmdb-access-token
  api:
    movie-lists:
      now-playing: https://api.themoviedb.org/3/movie/now_playing
```

### 4. ë°±ì—”ë“œ ì‹¤í–‰
```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ë° ì‹¤í–‰
./gradlew :stream-fix-apps:app-api:bootRun
```

### 5. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰
```bash
cd stream-fix-frontend
npm install
npm start
```

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤

### ë§ˆì´ê·¸ë ˆì´ì…˜
Flywayë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

- ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼: `stream-fix-adapters/adapter-persistence/src/main/resources/flyway/`

## ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

### IDE ì„¤ì •
- IntelliJ IDEA ê¶Œì¥
- Lombok í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ í•„ìš”

### ì½”ë“œ í¬ë§·íŒ…
í”„ë¡œì íŠ¸ì—ëŠ” Spotless í”ŒëŸ¬ê·¸ì¸ì´ ì ìš©ë˜ì–´ ìˆì–´, google-java-formatì„ ë”°ë¦…ë‹ˆë‹¤. ì»¤ë°‹ ì „ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ì½”ë“œ ìŠ¤íƒ€ì¼ì„ ì¼ê´€ì„± ìˆê²Œ ìœ ì§€í•´ì£¼ì„¸ìš”.

```bash
./gradlew spotlessApply
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„¸

```
stream-fix/
â”œâ”€â”€ buildSrc/                          # Gradle ë¹Œë“œ ì„¤ì •
â”œâ”€â”€ stream-fix-apps/                   # ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ
â”‚   â”œâ”€â”€ app-api/                       # REST API ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â””â”€â”€ app-batch/                     # ë°°ì¹˜ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ stream-fix-core/                   # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ core-domain/                   # ë„ë©”ì¸ ëª¨ë¸
â”‚   â”œâ”€â”€ core-usecase/                  # ìœ ìŠ¤ì¼€ì´ìŠ¤ ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ core-service/                  # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„
â”‚   â””â”€â”€ core-port/                     # í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ stream-fix-adapters/               # ì–´ëŒ‘í„° ê³„ì¸µ
â”‚   â”œâ”€â”€ adapter-http/                  # HTTP ì™¸ë¶€ ì—°ë™
â”‚   â”œâ”€â”€ adapter-persistence/           # ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
â”‚   â””â”€â”€ adapter-redis/                 # Redis ì—°ë™
â”œâ”€â”€ stream-fix-frontend/               # React í”„ë¡ íŠ¸ì—”ë“œ
â”œâ”€â”€ stream-fix-commons/                # ê³µí†µ ëª¨ë“ˆ
â””â”€â”€ infra/                            # ì¸í”„ë¼ ì„¤ì • (Docker)
```