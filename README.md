# StreamFix ğŸ¬

Spring Security í•™ìŠµì„ ìœ„í•œ êµ¬ë… ê¸°ë°˜ ìŠ¤íŠ¸ë¦¬ë° ì„œë¹„ìŠ¤ í”„ë¡œì íŠ¸

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

StreamFixëŠ” í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜(Hexagonal Architecture) íŒ¨í„´ì„ ì ìš©í•˜ì—¬ ì„¤ê³„ëœ ìŠ¤íŠ¸ë¦¬ë° ì„œë¹„ìŠ¤ í”Œë«í¼ì…ë‹ˆë‹¤. 
ëª¨ë“ˆí™”ëœ êµ¬ì¡°ë¡œ ê°œë°œë˜ì–´ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ ê³ ë ¤í–ˆìŠµë‹ˆë‹¤.

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ (Ports & Adapters)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Applications                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚    app-api      â”‚              â”‚   app-batch     â”‚       â”‚
â”‚  â”‚   (REST API)    â”‚              â”‚    (batch)      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Core                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ core-domain â”‚  â”‚core-usecase â”‚  â”‚core-service â”‚          â”‚
â”‚  â”‚   (domain)  â”‚  â”‚  (usecase)  â”‚  â”‚  (service)  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚              â”‚ core-port   â”‚                                â”‚
â”‚              â”‚  (port)     â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Adapters                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  adapter-http   â”‚  â”‚adapter-persistenâ”‚  â”‚adapter-redisâ”‚  â”‚
â”‚  â”‚ (api sync )     â”‚  â”‚   (database)    â”‚  â”‚   (cash)    â”‚  â”‚ 
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ ëª¨ë“ˆ êµ¬ì¡°

### Applications
- **app-api**: REST API ì• í”Œë¦¬ì¼€ì´ì…˜ (Spring Boot Web)
- **app-batch**: ë°°ì¹˜ ì²˜ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜

### Core (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
- **core-domain**: ë„ë©”ì¸ ëª¨ë¸
- **core-usecase**: ìœ ìŠ¤ì¼€ì´ìŠ¤ ì¸í„°í˜ì´ìŠ¤
- **core-service**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„
- **core-port**: í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ (ì™¸ë¶€ ì—°ë™ ì •ì˜)

### Adapters (ì™¸ë¶€ ì—°ë™)
- **adapter-http**: ì™¸ë¶€ API ì—°ë™ (TMDB API)
- **adapter-persistence**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ (MySQL, JPA)
- **adapter-redis**: ìºì‹œ ì—°ë™ (Redis)

### Frontend
- **stream-fix-frontend**: React ê¸°ë°˜ í”„ë¡ íŠ¸ì—”ë“œ

### Commons
- **stream-fix-commons**: ê³µí†µ ëª¨ë“ˆ

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Java 17**
- **Spring Boot 3.3.3**
- **Spring Data JPA**
- **QueryDSL 5.0.0**
- **MySQL 8.0**
- **Redis**
- **Flyway** (DB ë§ˆì´ê·¸ë ˆì´ì…˜)

### Frontend
- **React 19.1.0**
- **Create React App**

### Build Tools
- **Gradle 8.13**
- **Kotlin DSL**

### External APIs
- **TMDB (The Movie Database) API**

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Java 17 ì´ìƒ
- Node.js 16 ì´ìƒ
- Docker & Docker Compose

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone [repository-url]
cd stream-fix
```

### 2. ì¸í”„ë¼ ì„¤ì •
```bash
# Dockerë¡œ MySQL, Redis ì‹¤í–‰
cd infra
docker-compose up -d
```

### 3. API ì„¤ì • íŒŒì¼ ìƒì„±
```bash
# TMDB API ì„¤ì •
cp stream-fix-adapters/adapter-http/src/main/resources/adapter-http-property-sample.yml \
   stream-fix-adapters/adapter-http/src/main/resources/adapter-http-property.yml
```

`adapter-http-property.yml` íŒŒì¼ì— TMDB API í‚¤ ì„¤ì •:
```yaml
tmdb:
  auth:
    access-token: your-tmdb-access-token
  api:
    movie-lists:
      now-playing: https://api.themoviedb.org/3/movie/now_playing
```

### 4. ë°±ì—”ë“œ ì‹¤í–‰
```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ë° ì‹¤í–‰
./gradlew :stream-fix-apps:app-api:bootRun
```

### 5. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰
```bash
cd stream-fix-frontend
npm install
npm start
```

## ğŸ“š API ë¬¸ì„œ

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

#### ì˜í™” API
- `GET /api/v1/movie/client/{page}` - í˜„ì¬ ìƒì˜ ì¤‘ì¸ ì˜í™” ëª©ë¡ ì¡°íšŒ

#### ìƒ˜í”Œ API
- `GET /api/v1/sample` - ìƒ˜í”Œ ë°ì´í„° ì¡°íšŒ

### í…ŒìŠ¤íŠ¸ ìš”ì²­
```bash
# ìƒ˜í”Œ API í…ŒìŠ¤íŠ¸
curl http://localhost:8080/api/v1/sample

# ì˜í™” API í…ŒìŠ¤íŠ¸
curl http://localhost:8080/api/v1/movie/client/1
```

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤

### í…Œì´ë¸” êµ¬ì¡°
- **users**: ì‚¬ìš©ì ì •ë³´
- **sample**: ìƒ˜í”Œ ë°ì´í„°

### ë§ˆì´ê·¸ë ˆì´ì…˜
Flywayë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼: `stream-fix-adapters/adapter-persistence/src/main/resources/flyway/`

## ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

### IDE ì„¤ì •
- IntelliJ IDEA ê¶Œì¥
- Lombok í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ í•„ìš”

### ì½”ë“œ í¬ë§·íŒ…
í”„ë¡œì íŠ¸ì— ì„¤ì •ëœ í¬ë§·íŒ… ê·œì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„¸

```
stream-fix/
â”œâ”€â”€ buildSrc/                          # Gradle ë¹Œë“œ ì„¤ì •
â”œâ”€â”€ stream-fix-apps/                   # ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ
â”‚   â”œâ”€â”€ app-api/                       # REST API ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â””â”€â”€ app-batch/                     # ë°°ì¹˜ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ stream-fix-core/                   # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ core-domain/                   # ë„ë©”ì¸ ëª¨ë¸
â”‚   â”œâ”€â”€ core-usecase/                  # ìœ ìŠ¤ì¼€ì´ìŠ¤ ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ core-service/                  # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„
â”‚   â””â”€â”€ core-port/                     # í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ stream-fix-adapters/               # ì–´ëŒ‘í„° ê³„ì¸µ
â”‚   â”œâ”€â”€ adapter-http/                  # HTTP ì™¸ë¶€ ì—°ë™
â”‚   â”œâ”€â”€ adapter-persistence/           # ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
â”‚   â””â”€â”€ adapter-redis/                 # Redis ì—°ë™
â”œâ”€â”€ stream-fix-frontend/               # React í”„ë¡ íŠ¸ì—”ë“œ
â”œâ”€â”€ stream-fix-commons/                # ê³µí†µ ëª¨ë“ˆ
â””â”€â”€ infra/                            # ì¸í”„ë¼ ì„¤ì • (Docker)
```

## ğŸŒŸ ì£¼ìš” íŠ¹ì§•

1. **í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ì™¸ë¶€ ì—°ë™ì˜ ëª…í™•í•œ ë¶„ë¦¬
2. **ëª¨ë“ˆí™”**: ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ì™€ ì˜ì¡´ì„± ê´€ë¦¬
3. **í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ êµ¬ì¡°**: í¬íŠ¸/ì–´ëŒ‘í„° íŒ¨í„´ìœ¼ë¡œ ëª¨í‚¹ ê°€ëŠ¥
4. **í™•ì¥ ê°€ëŠ¥í•œ ì„¤ê³„**: ìƒˆë¡œìš´ ì–´ëŒ‘í„° ì¶”ê°€ ìš©ì´


## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” í•™ìŠµ ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.
